{{ block content }}
    <section id="ranking-form">
        <h4>Step 2: Submit Your Ranking</h4>
        <button class="button-2" id="GenBtn3" type="button">Click for a reminder on what this ranking means</button><br>
        <div class="modal" id="GenModal3">
          <div class="modal-content">
            <span class="close3">&times;</span>
            <p>In Step 2, you are asked to <b>rank the four prizes</b> in an order of your choice.</p>
            <p>The computerized participants simultaneously submit their own rankings. They <b>do not know</b> your own ranking.</p>
            <p>Their rankings are aimed at getting them their high-earning prizes. Your own ranking <b>cannot affect the computerized participantsâ€™ rankings</b>.</p>
          </div>
        </div>
        <p>Please rank the four prizes in an order of your choice.</p>
        {{ include "components/ranking_form.html"}}
        <div class="btn-container">
            <button id="submit-btn"
                    type="button"
                    class="btn btn-danger btn-container"
                    onclick="onSubmit()"
            >
                Submit ranking
            </button><br>
        </div>
        <div class="incorrect-msg">
            <p>You submitted an invalid ranking. Please resubmit.</p>
        </div>
    </section>
{{ endblock }}

{{ block scripts }}
    <script>
    /* on submit event handler */
    function onSubmit() {
        /* grab the priorities input elements from the DOM */
        const first_priority_element = document.querySelector('#first_priority');
        const second_priority_element = document.querySelector('#second_priority');
        const third_priority_element = document.querySelector('#third_priority');
        const fourth_priority_element = document.querySelector('#fourth_priority');
        /* check if they are all valid */
        const allElements = [first_priority_element, second_priority_element, third_priority_element, fourth_priority_element];
        const allElementsAreValid = allElements.every((element) => {
            return element.value.match(/^[1-4]$/);
        });
        /* if they are all valid, then disable the input element */
        if (allElementsAreValid) {
            const inputElement = document.querySelector('#id_player_bid_text');
            inputElement.disabled = true;
        }
    }
    </script>
{{ endblock }}