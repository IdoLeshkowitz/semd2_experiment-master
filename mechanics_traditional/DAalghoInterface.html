{{ block title }}
    How the Allocation Process Works:<br>
    Training Round {{player.round_number}}/3
{{ endblock }}
{{ block content }}
{% load index %}
    <button id="GenBtn" class="button-2" type="button">Click for a general reminder on how the allocation process works</button><br>
        <div id="GenModal" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
              <p>filler</p>
          </div>
        </div>
    <script src="{{ static 'global/DAalghoInterface.js' }}"></script>
    <link rel="stylesheet" href="{{ static 'global/globalstyle.css' }}">
    <link rel="stylesheet" href="{{ static 'global/DAalghoInterface.css' }}">

{{ if player.round_number == 1 }}
    <section id="step-1">
        The training round is not yet over. To complete it, you will perform the allocation process by yourself, instead of the computer. <br><br>
        We will guide you how to use the Allocation Dashboard below to find the allocation of prizes to all participants:
        <br><br>
        <div class="btn-container">
            <button id="proceed-step-2-btn" type="button" class="btn btn-primary">Proceed</button>
        </div>
        <br>
    </section>
    <section id="step-2">
        On the upper left part of the dashboard below you see the <b>Prize Priorities</b>.<br>
        Each letter under a prize name indicates one of the four participants. The higher it is placed in the column, the higher the priority of that participant at that prize. <br><br>
        <b>For example:</b> The column under the letter <b>“A”</b> indicates the priorities of Prize A. Ruth <b>(“R”)</b> has the first (highest) priority at that prize, Shirley <b>(“S”)</b> has the second priority, Theresa <b>(“T”)</b> has the third priority, and you <b>(“Y”)</b> have the fourth (lowest) priority. <br><br>
        On the upper right part of the dashboard below you see the <b>Participant Rankings</b>.<br><br>
        Each letter under a participant name indicates one of the four prizes. The higher it is placed in the column, the higher that prize was ranked by that participant.<br><br>
        <b>For example:</b> The column under the letter <b>“R”</b> indicates the ranking submitted by the computerized participant Ruth. She ranked Prize A <b>(“A”)</b> first (highest), Prize C <b>(“C”)</b> second, Prize D <b>(“D”)</b> third, and Prize B <b>(“B”)</b> fourth (lowest). <br>
        Notice that the ranking under “Y” (you) is exactly the ranking that you submitted in the previous screen! <br><br>
        Also Notice: Since you are now in charge of the allocation process, and you have to use the other participants’ rankings to perform it, <b>in these training rounds only</b> you are able to see the other participants’ rankings.<br><br>

        The middle and lower parts of the dashboard enable you to pair participants to prizes, as will be explained next.
        <br><br>
        <div class="btn-container">
            <button id="proceed-step-3-btn" type="button" class="btn btn-primary">Proceed</button>
        </div>
        <br>
    </section>
    <section id="step-3">
        First, pair each participant to their <b>highest-rank</b> prize.<br><br>

        Start by clicking on <b>Ruth (“R”)</b> to the right of “Unpaired participants”.
        Then, in the list of four prizes at the bottom of the dashboard, click on “+” next to the prize that is <b>highest in their ranking</b>. <br>
        <p>Hint: this prize is indicated by the letter just under “R” in the Participant Rankings table.</p>
        <p>After pairing, “A” will be colored purple under Ruth’s name (“R”) and “R” will be colored purple under Prize A’s name (“A”), to help you keep track that they are paired.</p>
        <p>Click Submit when done.</p>
        <br>
        <div class="btn-container">
            <button id="proceed-step-4-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>

        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-4">
        Now repeat the same for the three other participants. One by one, pair each of them to their <b>highest-rank</b> prize. <br><br>
        Click Submit after completing all three.
        <br><br>
        <div class="btn-container">
            <button id="proceed-step-5-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-5">
        <p>Each participant is now paired to a prize. <br>
        However, there are <b>conflicts</b>: two (or more) participants are paired to the same prize.</p>
        <p>Notice: <b>Ruth</b> and <b>Shirley</b> are both paired to <b>Prize A</b>. This is a conflict.</p>
        <p>To solve a conflict, the first step is <b>Unpair</b>.<br>
            According to this step, only one participant should remain paired to Prize A. <b>Which participant should it be?</b>
        </p>
        <p>Please select one of the answers below and then click Submit.</p>
        {{ formfield 'question_1' }}

        <div class="btn-container">
            <button id="proceed-step-6-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_1' }}
        </div>

        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                Correct! When there is a conflict, only the participant with the highest priority at that prize’s priorities remains paired to that prize. The others get unpaired.
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! When there is a conflict, only the participant with the highest priority at that prize’s priorities remains paired to that prize. The others get unpaired. Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-6">
        <p>
            The second step in solving conflicts is <b>Re-pair</b>.
            After a participant gets unpaired, what new prize do they get paired to?
        </p>
        {{ formfield 'question_2' }}

        <div class="btn-container">
            <button id="proceed-step-7-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_2' }}
        </div>

        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                Correct! Each unpaired participant is re-paired to their highest-rank prize, among the prizes they <b>were not yet paired with</b>.
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Each unpaired participant is re-paired to their highest-rank prize, among the prizes they <b>were not yet paired with</b>. Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-7">
        <p>Now, let’s solve the conflict. </p>
        <p>According to the Prize Priorities, <b>Ruth’s</b> priority at <b>Prize A</b> is higher than <b>Shirley’s</b>. Hence, <b>Shirley</b> should get unpaired from <b>Prize A</b>, and then be re-paired to her second highest-rank prize</p>
        <p>Perform this using the two steps:
            <ul>
                <li><b>Unpair</b>: at the lower part of the dashboard, next to Prize A (“A”), click on <b>Shirley (“S”)</b>.</li>
                <li><p><b>Re-pair</b>: at the same lower part of the dashboard, click on “+” next to Shirley’s (“S”) <b>second highest-rank prize</b></p>
        <p>
            Hint: You can easily find which prize it is, using the Participant Rankings table: this is the prize right below the one that is currently colored purple under Shirley’s name (“S”).
        </p></ul>
        </p>
        <p>Click Submit when done.</p>
        <div class="btn-container">
            <button id="proceed-step-8-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>


    <section id ="step-8">
        <p>Is the process over?</p>
        {{ formfield 'question_3' }}
        <div class="btn-container">
            <button id="proceed-step-9-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_3' }}
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                 Correct! The process is only over when there are no more conflicts.
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! The process is only over when there are no more conflicts. Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-9">
        <p>Find all conflicts and solve them like before:
            <ul>
                <li>Find all prizes that are paired to two (or more) participants.</li>
            </ul>
            <p><span style="color:red"><b>Only solve the conflicts you can see now!</b></span> If you already observe new conflicts after re-pairing, wait. You will solve them one-by-one in the next screens.</p>
            <ul>
                <li><b>Unpair</b>: for each such prize, keep only the participant with the highest priority at that prize paired to it. <b>Unpair</b> the other participants from that prize.</li>
                <li><p><b>Re-pair</b>: re-pair these participants to their highest-rank prize, among the prizes they were <b>not yet paired with</b>.</p>
                <p>Hint: You can easily find which prize you should re-pair the unpaired participant to, using the Participant Rankings table: this is the prize right below the one that is currently colored purple under the unpaired participant’s name.</p></li>
            </ul>
        </p>
        <p>Click Submit when done.</p>
        <div class="btn-container">
            <button id="proceed-step-10-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-10">
        <p>Is the process over?</p>
        {{ formfield 'question_4' }}
        <div class="btn-container">
            <button id="proceed-step-11-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_4' }}
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                 Correct! The process is only over when there are no more conflicts.
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! The process is only over when there are no more conflicts. Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-11">
        <p>Find all conflicts and solve them like before:
            <ul>
                <li>Find all prizes that are paired to two (or more) participants.</li>
                <li><b>Unpair</b>: for each such prize, keep only the participant with the highest priority at that prize paired to it. Unpair the other participants from that prize.</li>
            </ul>
        </p>
        <p>Click Submit when done.</p>
        <div class="btn-container">
            <button id="proceed-step-12-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>


        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>
    <section id ="step-12">
        <p>Is the process over?</p>
        {{ formfield 'question_5' }}
        <div class="btn-container">
            <button id="proceed-step-13-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_5' }}
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                 Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-13">
        <p>Find all conflicts and solve them like before:
            <ul>
                <li>Find all prizes that are paired to two (or more) participants.</li>
                <li><b>Unpair</b>: for each such prize, keep only the participant with the highest priority at that prize paired to it. Unpair the other participants from that prize.</li>
            </ul>
        </p>
        <p>Click Submit when done.</p>
        <div class="btn-container">
            <button id="proceed-step-14-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>


        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-14">
        <p>Is the process over?</p>
        {{ formfield 'question_6' }}
        <div class="btn-container">
            <button id="proceed-step-15-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_6' }}
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                 Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-15">
        <p>Find all conflicts and solve them like before:
            <ul>
                <li>Find all prizes that are paired to two (or more) participants.</li>
                <li><b>Unpair</b>: for each such prize, keep only the participant with the highest priority at that prize paired to it. Unpair the other participants from that prize.</li>
            </ul>
        </p>
        <p>Click Submit when done.</p>
        <div class="btn-container">
            <button id="proceed-step-16-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="incorrect-skip-msg">
            <p>
                Incorrect answer. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>


        <div class="correct-msg">
            <p>
                Correct!
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>
    <section id ="step-16">
        <p>Is the process over?</p>
        {{ formfield 'question_7' }}
        <div class="btn-container">
            <button id="proceed-step-17-btn" type="button" class="btn btn-primary">Submit</button>
        </div>
        <br>
        <div class="incorrect-seq-field">
            {{ formfield 'incorrect_seq_question_7' }}
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>

        <div class="correct-msg">
            <p>
                 Correct! There are no more conflicts.
            </p>
        </div>

        <div class="correct-first-msg">
            <p>
                Correct! There are no more conflicts. Since you were right on your first try, you get a bonus.
            </p>
        </div>
    </section>

    <section id ="step-17">
        <p>
            The allocation is the following:
            <ul>
                <li>
                    Prize A is allocated to Ruth.
                </li>
                <li>
                    Prize B is  allocated to You.
                </li>
                <li>
                    Prize C is allocated to Shirely.
                </li>
                <li>
                    Prize D is allocated to Theresa.
                </li>
            </ul>
        </p>
        <p><b>The allocation process is over. You get Prize B.</b></p>
        <div class="btn-container">
            <button id="submit-page" type="button" class="btn btn-primary">Proceed</button>
        </div>
        <br>
    </section>

    {{ endif }}
    {{ if player.round_number > 1 }}
    <section id="step-1-rounds">
        <p>In this training round, you will perform the allocation process by yourself, instead of the computer.</p>
        <div class="btn-container">
            <button id="proceed-step-2-btn-rounds" type="button" class="btn btn-primary">Proceed</button>
        </div>
        <br>
    </section>

    <section id="step-2-rounds">
        Find the <b>allocation</b> of prizes to participants using the Allocation Dashboard below. Use the multi-step process you learned. <br>
        Click Submit when you are done.
        <br>
        <div class="btn-container">
            <button id="proceed-step-3-btn-rounds" type="button" class="btn btn-primary">Submit</button>
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect allocation. Please try again.
            </p>
        </div>
        <div class="incorrect-skip-msg">
            <p>
                Incorrect allocation. We set the dashboard correctly for you this time, and you are being automatically directed to the next step. Please make sure you understand your mistake.
            </p>
        </div>
        <div class="correct-msg">
            <p>
                Correct allocation!
            </p>
        </div>
        <br>
    </section>

    <section id="step-3-rounds">
        {{ if player.round_number < 4 }}
        <p></p>
        {{ endif }}
        {{ if player.round_number == 4 }}
        <p>You completed the training rounds. <br>
        Click the button below to proceed to real rounds of the game.
        </p>
        {{ endif }}
        <div class="btn-container">
            <button id="proceed-step-4-btn-rounds" type="button" class="btn btn-primary">Proceed</button>
        </div>
        <br>
    {{ endif }}
    </section>



    <div class="container-fluid" style="border: 5px solid gray;">
        <div class="row" style="justify-content: space-between;flex-wrap: nowrap;align-items: baseline;">
            <div class="column" style="flex: 1 2 auto;">
                <b style="font-size: 1.5rem;">
                    Prize Priorities:
                </b>
            </div>
            <div class="column" style="flex: 1 2 auto;">
                <b style="font-size: 1.5rem;">
                    Participant Rankings:
                </b>
            </div>
        </div>
        <div class="row" style="justify-content: space-between;flex-wrap: nowrap;align-items: baseline;">
            <div class="column" style="flex: 1 1 auto;">
<!--                <b style="font-size: 1.5rem;color: transparent;">-->
<!--                    Schools:-->
<!--                </b>-->
                <div class="container-fluid">
                    <div class="row" style="justify-content: center;align-items: flex-start;align-content: flex-start;">
                        {{ for school in participant.schoolsAPC }}
                            <div class="flexItemButtonsBackground" id="SchoolBackground{{ forloop.counter }}">
                                <div {{ if forloop.counter0 == 0 }}
                                        class="verticalRight"
                                     {{ elif forloop.counter == player.SchoolsNumber }}
                                        class="verticalLeft"
                                     {{ else }}
                                        class="verticalBoth"
                                     {{ endif }}>
                                    <div style="flex-direction: column;justify-content: flex-start;align-items: center;align-content: center;">
                                        {{ for name_or_student in school}}
                                            {{ if forloop.counter0 == 0}}
                                                <div class="dButtonTopBox">
                                                    <button type="button" class="dButtonTop" id="School{{ name_or_student }}" disabled="disabled">
                                                        <b>{{ name_or_student }}</b>
                                                    </button>
                                                </div>
                                            {{ else }}
                                                <div {{ if forloop.counter0 == player.StudentsNumber }}
                                                        class="dButtonBottomBox"
                                                     {{ else }}
                                                        class="dButtonBox"
                                                     {{ endif }}>
                                                    <button type="button" class="dButton" id="School{{ school.0}}PrefStudent{{ name_or_student }}" disabled="disabled">
                                                        {{ if name_or_student == 1 }}
                                                           R
                                                        {{ elif name_or_student == 2 }}
                                                            S
                                                        {{ elif name_or_student == 3 }}
                                                            T
                                                        {{ else }}
                                                            Y
                                                        {{ endif }}
                                                    </button>
                                                </div>
                                            {{ endif }}
                                        {{ endfor}}
                                    </div>
                                </div>
                            </div>
                        {{ endfor }}
                    </div>
                </div>
            </div>
            <div class="column" style="flex: 1 1 auto;">
<!--                <b style="font-size: 1.5rem;color: transparent;">-->
<!--                    Students:-->
<!--                </b>-->
                <div class="container-fluid" >
                    <div class="row" style="justify-content: center;align-items: flex-start;align-content: flex-start;">
                        {{ for student in participant.studentsAPC}}
                            <div class="flexItemButtonsBackground" id="StudentBackground{{ forloop.counter }}">
                                <div {{ if forloop.counter0 == 0 }}
                                        class="verticalRight"
                                     {{ elif forloop.counter == player.StudentsNumber }}
                                        class="verticalLeft"
                                     {{ else }}
                                        class="verticalBoth"
                                     {{ endif }}>
                                    <div style="flex-direction: column;justify-content: flex-start;align-items: center;align-content: center;">
                                        {{ for number_or_school in student }}
                                            {{ if forloop.counter0 == 0}}
                                                <div class="dButtonTopBox">
                                                    <button type="button" class="dButtonTop" id="Student{{ number_or_school}}" disabled="disabled">
                                                        {{ if number_or_school == 1 }}
                                                           <b style="font-size: 1.1rem">R</b>
                                                        {{ elif number_or_school == 2 }}
                                                            <b style="font-size: 1.1rem">S</b>
                                                        {{ elif number_or_school == 3 }}
                                                            <b style="font-size: 1.1rem">T</b>
                                                        {{ else }}
                                                            <b style="font-size: 1.1rem">Y</b>
                                                        {{ endif }}

                                                    </button>
                                                </div>
                                            {{ else }}
                                                <div {{ if forloop.counter0 == player.SchoolsNumber }}
                                                        class="dButtonBottomBox"
                                                     {{ else }}
                                                        class="dButtonBottomBox"
                                                     {{ endif }}>
                                                    <button type="button" class="dButton" id="Student{{ student.0 }}PrefSchool{{ number_or_school }}" disabled="disabled">
                                                            {{ number_or_school }}
                                                    </button>
                                                </div>
                                            {{ endif }}
                                        {{ endfor }}
                                    </div>
                                </div>
                            </div>
                        {{ endfor }}
                    </div>
                </div>
            </div>
        </div>

        <hr width="100%" />
        <div class="row" style="justify-content: space-between;flex-wrap: nowrap;align-items: flex-end;">
            <div class="column" style="flex: 1 1 auto;width: 200%;">
                <b style="font-size: 1.5rem;">
                    Unpaired participants:
                </b>
            </div>
            {{ for i in participant.students_names}}
                <div class="column"
                     {{ if forloop.counter == player.StudentsNumber}}
                        style="flex: 1 1 auto;"
                     {{ else }}
                        style="flex: 1 1 auto;width: 20%;"
                     {{ endif }}>
                    <button type="button" class="iButton" value="{{ i }}" id="ButtonStudent{{ forloop.counter }}" onclick="matchStudent(this.value)">
                            {{ if i == 1 }}
                                <b>R</b>
                            {{ elif i == 2 }}
                                <b>S</b>
                            {{ elif i == 3 }}
                                <b>T</b>
                            {{ else }}
                                <b>Y</b>
                            {{ endif }}
                        </button>
                    </div>
            {{ endfor }}
        </div>
        <hr width="100%" />
        {{ for school in participant.schools_alphabet }}
            <div class="row" style="justify-content: flex-start;flex-wrap: nowrap;align-items: baseline;align-content: flex-start">
                <div class="column" style="flex: 1 1 auto;text-align: right;order: -1;">
                    <b style="font-size: 1.5rem;">
                        {{ school }}:
                    </b>
                </div>
                <div class="flexItemStudentButton" style="flex: 1 1 auto;display: none;order: 20;" id="plusButtonSchool{{ school }}">
                    <button type="button" class="pButton" value="{{ forloop.counter }}" onclick="matchToSchool(this.value)">
                        <b>+</b>
                    </button>
                </div>
                {{ for student in participant.students_names }}
                    <div class="flexItemStudentButton" style="flex: 1 1 auto;display: none;" id="School{{ school }}MatchedToStudent{{ student }}">
                        <button type="button" class="iButton" value="{{ school }}" onclick="rematchStudent(this.value,this.innerText)" id="School{{ school }}MatchedToStudent{{ student }}Button">
                            {{ if student == 1 }}
                                <b>R</b>
                            {{ elif student == 2 }}
                                <b>S</b>
                            {{ elif student == 3 }}
                                <b>T</b>
                            {{ else }}
                                <b>Y</b>
                            {{ endif }}
                        </button>
                    </div>
                {{ endfor }}
                <div class="column" style="flex: 1 0 auto;text-align: right;order: 100">
                    <b style="font-size: 1.2rem;color: transparent;">
                        ::
                    </b>
                </div>
            </div>
        {{ endfor }}
    </div>
    <center>Allocation Dashboard</center>

{{ if player.round_number == 1 }}
        <section id="bonus_section">
            {{ formfield 'bonus_field' }}
        </section>>
{{ endif }}

<!---
    <div style="text-align: center">
        <button type="button" class="submitButton" onclick="submitButton()">Submit Matching</button>
    </div>


    <div class="modal fade" id="finishModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                        <p style="font-size: 20px;margin-bottom: 0">
                            To submit your answers click on the button bellow.<br>
                            Once you submit your answers you will not be able go back and change your answers.
                        </p>
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="cancelButton" onclick="dismissFinishModal()">
                        Cancel
                    </button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="button" class="submitButton" onclick="confirmSubmission()">
                        Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <button type="button" onclick="confirmStage()">
        TEST
    </button>
    --->
{{ endblock }}


