{{ block title }}
{{ include "components/bonus_indicator.html" }}
    The Key Principle of the Allocation Process: <br>
    Training Round {{ player.round_number }}/3
{{ endblock }}

{{ block styles}}
    <link rel="stylesheet" href="{{ static 'global/styles.css' }}">
    <script src="https://kit.fontawesome.com/f5aad88875.js" crossorigin="anonymous"></script> <!-- Font Awesome -->
{{ endblock }}

{{ block content }}
<!--first general pop up window-->
<button id="GenBtn" class="button-2" type="button">Click for a general reminder on this study</button><br>
    <div id="GenModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
            <p>In this study, you and three computerized participants, Ruth, Shirley, and Theresa,
              are playing rounds of a game for four prizes. <br>
              Each prize is worth money, but is worth a different amount of money for each participant.
            </p>
            <p>In each round, you and the computerized participants each rank the four prizes from most preferred to least preferred.<br>
            Then, an <b>allocation process</b> uses these rankings to allocate the prizes—one prize for each participant.
            </p>
            <p>The allocation process tries to give each participant a prize that they ranked higher rather
                than a prize that they ranked lower, while taking into account the rankings of all participants.
            </p>
      </div>
    </div>

<!--
need to program conditions
Only after properties or mechanics
<button id="1" class="button-2">Click to remind the Key Principle of the allocation process</button>
<button id="2" class="button-2">Click to remind how the allocation process works</button>
-->

<section id="step-1">
<div class="explain">
    <p>
        This is a training round.<br>
        Please follow the instructions and answer the questions shown to you as best you can.<br>
        The prizes are not worth money this round, but <b>you will earn <span class="money-amount">{{ 0.3 | cu }}</span></b> for completing it.</p>
</div>
    <div class="btn-container">
        <button id="proceed-step-1a-btn" type="button" class="btn btn-primary btn-container">Proceed</button>
    </div>
</section>

<section id="step-1a">
<h4>Step 1: Round Information</h4>
    <p>
        In this round, the <b>prizes</b> are:
    </p>
        <table id="prize-table">
            <thead>
                <tr>
                    <th>Prize</th>
                    <th>A</th>
                    <th>B</th>
                    <th>C</th>
                    <th>D</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Addition to your earnings if you get this prize</td>
                    <td colspan="4">- Training round. No earnings from prizes -</td>
                </tr>
            </tbody>
        </table><br>
<!--second pop up window-->
<button id="GenBtn1" class="button-2" type="button">Click for a reminder on what the prizes mean</button><br>
    <div id="GenModal1" class="modal">
      <div class="modal-content">
        <span class="close1">&times;</span>
            <p>In Step 1, you first see the <b>prizes</b> you can get in this round.
                Each prize is worth money, but might be worth a different amount of money for each participant. </p>
            <p>In the table, under each prize A, B, C or D, you can see how much money it would add to <b>your</b> earnings.</p>
            <p>The money amounts shown in your table can be different in different rounds of the game,
                and they were <b>determined beforehand</b>. <br>
                You and the other participants <b>cannot affect the money amounts</b> shown in your table.
            </p>
      </div>
    </div><br>

    <div class="btn-container">
        <button id="proceed-step-2-btn" type="button" class="btn btn-primary btn-container">Proceed</button>
    </div>
</section>

<section id="step-2">
        <p>
            The <b>prize priorities</b> for you and for the other participants are:
        </p>

        <table id="priorities-table">
            <thead>
                <tr>
                    <th>Prize</th>
                    <th>A</th>
                    <th>B</th>
                    <th>C</th>
                    <th>D</th>
                </tr>
            </thead>
        </table><br>
<!--third pop up window-->
<button id="GenBtn2" class="button-2"  type="button">Click for a reminder on what the priorities mean</button><br>
    <div id="GenModal2" class="modal">
      <div class="modal-content">
        <span class="close2">&times;</span>
            <p>All four participants have some <b>priority</b> at each of the four prizes. <br>
             These priorities can affect the allocation of prizes. </p>
            <p>The higher your priority is at some prize, the more likely you are to get that prize at the end of the process.</p>
            <p>Each column shows the priorities of all participants at some prize, written from highest to lowest.
              For example, the column under <b>Prize A</b> shows its priorities.
              Prize A has Ruth in the 1st priority (the highest),
              Shirley in the 2nd priority, You in the 3rd priority and Theresa in the 4th priority (the lowest).
              So, for example, it is easier for Ruth to get Prize A this round, and harder for Theresa to get Prize A this round.</p>
            <p>The prize priorities can be different in different rounds of the game,
                and they were <b>determined beforehand</b>. <br>
                You and the other participants <b>cannot affect the prize priorities</b>.</p>
      </div>
    </div>

        <div class="btn-container">
            <button id="proceed-step-3-btn" type="button" class="btn btn-primary">Proceed</button>
        </div>   
</section>

<section id="step-3">
    <br>
<h4>Step 2: Submit Your Ranking</h4>

        <p>
            Please rank the four prizes <b>in the arbitrary order <span class="expected-rank"></span></b> (from most to least preferred).
        </p>
        <ul>
            <li>{{ formfield 'first_priority' }}</li>
            <li>{{ formfield 'second_priority' }}</li>
            <li>{{ formfield 'third_priority' }}</li>
            <li>{{ formfield 'fourth_priority' }}</li>
        </ul>

<!-- fourth general pop up window-->
<button id="GenBtn3" class="button-2"  type="button">Click for a reminder on what this ranking means</button><br>
    <div id="GenModal3" class="modal">
      <div class="modal-content">
        <span class="close3">&times;</span>
            <p>In Step 2, you are asked to <b>rank the four prizes</b>, from most preferred to least preferred.</p>
            <p>The computerized participants simultaneously submit their own rankings. </p>
            <p>Their rankings are chosen <b>completely at random</b>, with each possible ranking being equally likely.<br>
                  Your own ranking <b>cannot affect the computerized participants’ rankings</b>.</p>
      </div>
    </div>

    <div class="btn-container">
        <!-- class="btn btn-danger btn-container" for submit button-->
        <button id="submit-btn" type="button" class="btn btn-danger btn-container">Submit ranking</button>
    </div>
    <div class="incorrect-msg">
        <p>
            Please make sure your ranking follows the instructions.
        </p>
    </div>
</section><br>

<section id="step-4">
    <h4>Step 3: Allocation Process</h4>
        <p>
            You are going to perform the allocation process by yourself, according to what you learned.  <br>
            Click on the button below to start.
        </p>
            <div class="btn-container">
            <button id="proceed-step-5-btn" type="button" class="btn btn-primary">Proceed</button>
        </div>
</section>

{{ endblock }}

{{ block scripts }}
<script src="{{ static 'util/processDecimalMoney.js'}}"></script>
    <script src="{{ static 'global/mechanics_training_round_page.js' }}"></script>
    <script src="{{ static 'global/generate_priorities_table.js' }}"></script>
{{ endblock }}
