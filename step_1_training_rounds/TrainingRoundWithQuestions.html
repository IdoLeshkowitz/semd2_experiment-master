{{ block title }}{{ include "components/bonus_indicator.html" }}<!-- null training rounds -->
Training Round {{ player.round_number }}/2{{ endblock }}

{{ block styles}}
    <link href="{{ static 'global/styles.css' }}" rel="stylesheet">
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/f5aad88875.js"></script> <!-- Font Awesome -->{{ endblock }}

{{ block content }}
<!--<p style="text-align:right;">-->
<!--    Your current bonus is {{player.payoff}}-->
<!--    <br>-->
<!--</p>-->

{{if player.round_number == 1}}
<!--first general pop up window-->
<button class="button-2" id="GenBtn" type="button">Click for a general reminder on this study</button><br>
    <div class="modal" id="GenModal">
      <div class="modal-content">
        <span class="close">&times;</span>
            <p>
                In this study, you and three computerized participants, Ruth, Shirley, and Theresa, are going to play a game for four prizes.<br/>
                Each prize is worth money, but might be worth a different amount of money for each participant.
            </p>
            <p>
                You and the computerized participants will each rank the four prizes in any order you wish.<br/>
                Then, an <b>allocation process</b> will use these rankings to allocate the prizes—one prize for each participant.
            </p>
            <p>
                The allocation process tries to give each participant a prize that they ranked higher rather than a prize that they ranked lower, while taking into account the rankings of all participants.
            </p>
      </div>
    </div>

<!--
need to program conditions
<button id="1" class="button-2">Click for a reminder on the important principle of the allocation</button>
<button id="2" class="button-2">Click for a reminder on the technical details of the allocation process</button>
-->

<section id="step-1">
        <div class="explain">
            <p>
            This is a training round.<br/>
            Everything is <b>the same</b> as in the real rounds you will play later on, except that you will <b>not</b> earn the money worth of the prize you will get. Instead, we will ask you questions which can count for your <b>Understanding Bonus</b> at the end of the study.
            </p>
            <p>
                Remember: each question increases your Understanding Bonus only if you answer it correctly on your first attempt. Think about your answers carefully!
            </p>
        </div>
    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-step-1a-btn" type="button">Proceed</button>
    </div>
</section>

<section id="step-1a">
<h4>Step 1: Round Information</h4>
    <p>
        In this round, your <b>prizes</b> are:
    </p>
    <table id="prize-table">
        <thead>
            <tr>
                <th>Prize</th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
            </tr>
        <tr>
            <td>Money worth</td>
            <td class="money-amount">{{ firstPrize | cu }}</td>
            <td class="money-amount">{{ secondPrize | cu }}</td>
            <td class="money-amount">{{ thirdPrize | cu }}</td>
            <td class="money-amount">{{ fourthPrize | cu }}</td>
        </tr>
        </thead>
    </table><br>
    <!--second pop up window-->
<button class="button-2" id="GenBtn1" type="button">Click for a reminder on what the prizes mean</button><br>
    <div class="modal" id="GenModal1">
      <div class="modal-content">
        <span class="close1">&times;</span>
            <p>
                In Step 1, you first see the <b>prizes</b> you can get in this round and how much money they are worth to <b>you</b>. In the table, under each prize A, B, C or D, you can see how much money it would add to <b>your</b> earnings if <b>you get it</b>.
            </p>
            <p>
                Each prize might be worth a <b>different</b> amount of money for each participant, and each participant can only see the money amounts relevant to <b>themselves</b>. However, the prizes that earn you a large amount of money are also likely to earn the <b>other participants</b> a large amount of money. There is more likely to be <b>competition</b> for the high-earning prizes.
            </p>
            <p>
                The money worth of prizes for you and for the other participants can be different in different rounds of the game, and they were <b>determined beforehand</b>. You and the other participants <b>cannot affect the money worth of prizes</b>.
            </p>
      </div>
    </div><br>

    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-question1-btn" type="button">Proceed</button>
    </div>
</section>

<section id="question1">
    <p>Please determine whether the following statement is true or false:</p>
    <p>If I rank some prize very <b>low</b>, I may earn <b>less</b> than its money worth, shown in the table above. If I rank some prize very <b>high</b>, I may earn <b>more</b> than its money worth.<br/>
    (Get it right on first try to increase your bonus)
        {{ formfield 'independence' }}
           <div class="incorrect_seq_independence">
                {{ formfield 'incorrect_seq_independence' }}
            </div>
            <div class="btn-container">
                <button class="btn btn-danger btn-question" id="question1-btn" type="button">Submit</button>
            </div>
            <div class="incorrect-msg">
                <p>
                    Incorrect answer. Please try again.
                </p>
            </div>
            <div class="correct-msg">
                <p>
                    Correct! Your own ranking cannot affect the money worth of prizes shown in your table, which are determined beforehand.
                </p>
            </div>
</section>
<section id="question2">
    <p>Please determine whether the following statement is true or false:</p>
        <p>
            Every participant, including me and the computerized participants, has the same earnings table.<br/>
            (Get it right on first try to increase your bonus)
        </p>
        {{ formfield 'value_table' }}
           <div class="incorrect_seq_value_table">
                {{ formfield 'incorrect_seq_value_table' }}
            </div>
            <div class="btn-container">
                <button class="btn btn-danger btn-question" id="question2-btn" type="button">Submit</button>
            </div>
            <div class="incorrect-msg">
                <p>
                    Incorrect answer. Please try again.
                </p>
            </div>
            <div class="correct-msg">
                <p>
                    Correct! Each prize might be worth a different amount for each participant.
                </p>
            </div>
</section>

<section id="step-2">
    <p>
        The <b>prize priorities</b> for you and for the other participants are:
    </p>
    <table id="priorities-table">
        <thead>
            <tr>
                <th>Prize</th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
            </tr>
        </thead>
    </table><br>
    
    <!--third pop up window-->
<button class="button-2" id="GenBtn2" type="button">Click for a reminder on what the priorities mean</button><br>
        <div class="modal" id="GenModal2">
      <div class="modal-content">
        <span class="close2">&times;</span>
            <p>
                All four participants have some <b>priority</b> for getting each of the four prizes.
                These priorities can affect the allocation of prizes.
            </p>
            <p>
                The higher your priority is for getting some prize, the more likely you are to get that prize at the end of the process.
            </p>
            <p>Each column shows the priorities of all participants at some prize, written from highest to lowest.
              For example, the column under <b>Prize A</b> shows its priorities.
              Prize A has Ruth in the 1st priority (the highest),
              Shirley in the 2nd priority, You in the 3rd priority and Theresa in the 4th priority (the lowest).
              So, for example, it is easier for Ruth to get Prize A this round, and harder for Theresa to get Prize A this round.</p>
            <p>The prize priorities can be different in different rounds of the game,
                and they were <b>determined beforehand</b>. <br>
                You and the other participants <b>cannot affect the prize priorities</b>.</p>
      </div>
    </div> <br>

    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-question3-btn" type="button">Proceed</button>
    </div>
</section>

<section id="question3">
    <p> Please determine whether the following statement is true or false:</p>
    <p>
        If I place a prize very <b>low</b> in my ranking, then my priority for getting that prize might <b>decrease</b>. If I place a prize very <b>high</b> in my ranking, then my priority for getting that prize might <b>increase</b>.<br/>
        (Get it right on first try to increase your bonus)
    </p>
        {{ formfield 'self_rank_independence' }}
        <div class="incorrect_seq_self_rank_independence">
            {{ formfield 'incorrect_seq_self_rank_independence' }}
        </div>
        <div class="btn-container">
                <button class="btn btn-danger btn-question" id="question3-btn" type="button">Submit</button>
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>
        <div class="correct-msg">
            <p>
                Correct! Your own ranking cannot affect the prize priorities. Instead, they are determined beforehand.
            </p>
        </div>
</section>

<section id="step-3">
    <h4>Step 2: Submit Your Ranking</h4>
    <!-- fourth general pop up window-->
<button class="button-2" id="GenBtn3" type="button">Click for a reminder on what this ranking means</button><br>
    <div class="modal" id="GenModal3">
      <div class="modal-content">
        <span class="close3">&times;</span>
            <p>In Step 2, you are asked to <b>rank the four prizes</b> in an order of your choice.</p>
            <p>The computerized participants simultaneously submit their own rankings. They <b>do not know</b> your own ranking.</p>
            <p>Their rankings are aimed at getting them their high-earning prizes. Your own ranking <b>cannot affect the computerized participants’ rankings</b>.</p>
      </div>
    </div>
    {{ include_sibling "ranking_form.html"}}
</section>

<section id="step-4">
    <h4>Step 3: Allocation Process</h4>
    <div id="load">
        <p>
            Allocation process working… <i class="fa-regular fa-hourglass-half fa-spin"></i>
        </p>
    </div>

    <div class="explain">
        <p>
            Remember:
        </p>
        <p>
            The allocation process tries to give each participant a prize that they ranked higher rather than a prize that they ranked lower,
            while taking into account the rankings of all participants.
        </p>
        <p>
            The prize priorities can affect the allocation of prizes. <br>
            The higher your priority is at some prize, the more likely you are to get that prize at the end of the process.
        </p>
    </div>


    <div id="round-results">
        <p>
            <b>You get Prize <span id="prize-won"></span></b>.
            If this were a real round, your total earning would increase by <b><span id="points-won"></span></b>.<br>
            Since this is a training round, the questions you answer correctly on the first attempt count for your Understanding Bonus.
        </p>
    </div>

    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-question4-btn" type="button">Proceed</button><br>
    </div>
</section>

<section id="question4">
    <p> Please determine whether the following statement is true or false:</p>
    <p>
        I just submitted some ranking and got some prize. It is possible that if I had submitted a different ranking, my ranking would have <b>affected the other participants’ rankings</b> such that I would have gotten a different prize.<br/>
        (Get it right on first try to increase your bonus)
    </p>
        

        {{ formfield 'competitors_rank_independence' }}
        <div class="incorrect_seq_competitors_rank_independence">
            {{ formfield 'incorrect_seq_competitors_rank_independence' }}
        </div>
        <div class="btn-container">
            <button class="btn btn-danger btn-question" id="question4-btn" type="button">Submit</button>
        </div>
        <div class="incorrect-msg">
            <p>
                Incorrect answer. Please try again.
            </p>
        </div>
        <div class="correct-msg">
            <p>
                Correct! Your own ranking cannot affect the other participants' rankings..
            </p>
        </div>
</section>
<section id="next">
    <div style="text-align: center">
        {{ next_button }}
    </div>
</section>

{{else}}
<button class="button-2" id="GenBtn" type="button">Click for a general reminder on this study</button><br>
    <div class="modal" id="GenModal">
      <div class="modal-content">
        <span class="close">&times;</span>
            <p>
                In this study, you and three computerized participants, Ruth, Shirley, and Theresa, are going to play a game for four prizes.<br/>
                Each prize is worth money, but might be worth a different amount of money for each participant.
            </p>
            <p>
                You and the computerized participants will each rank the four prizes in any order you wish.<br/>
                Then, an <b>allocation process</b> will use these rankings to allocate the prizes—one prize for each participant.
            </p>
            <p>
                The allocation process tries to give each participant a prize that they ranked higher rather than a prize that they ranked lower, while taking into account the rankings of all participants.
            </p>
      </div>
    </div>

<!--
need to program conditions
<button id="1" class="button-2">Click for a reminder on the important principle of the allocation</button>
<button id="2" class="button-2">Click for a reminder on the technical details of the allocation process</button>
-->

<section id="step-1">
<div class="explain">
       <p>
    This is a training round.<br/>
    Everything is <b>the same</b> as in the real rounds you will play later on, except that you will <b>not</b> earn the money worth of the prize you will get. Instead, we will ask you questions which can count for your <b>Understanding Bonus</b> at the end of the study.
    </p>
    <p>
        Remember: each question increases your Understanding Bonus only if you answer it correctly on your first attempt. Think about your answers carefully!
    </p>
</div>
    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-step-1a-btn" type="button">Proceed</button>
    </div>
</section>

<section id="step-1a">
<h4>Step 1: Round Information</h4>
    <p>
        In this round, your <b>prizes</b> are:
    </p>
   <table id="prize-table">
        <thead>
            <tr>
                <th>Prize</th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
            </tr>
        </thead>
       <tbody>
        <tr>
            <td>Money worth</td>
            <td class="money-amount">{{ firstPrize | cu }}</td>
            <td class="money-amount">{{ secondPrize | cu }}</td>
            <td class="money-amount">{{ thirdPrize | cu }}</td>
            <td class="money-amount">{{ fourthPrize | cu }}</td>
        </tr>
       </tbody>
    </table>
    <br>
    <!--second pop up window-->
<button class="button-2" id="GenBtn1" type="button">Click for a reminder on what the prizes mean</button><br>
    <div class="modal" id="GenModal1">
     <div class="modal-content">
        <span class="close1">&times;</span>
            <p>
                In Step 1, you first see the <b>prizes</b> you can get in this round and how much money they are worth to <b>you</b>. In the table, under each prize A, B, C or D, you can see how much money it would add to <b>your</b> earnings if <b>you get it</b>.
            </p>
            <p>
                Each prize might be worth a <b>different</b> amount of money for each participant, and each participant can only see the money amounts relevant to <b>themselves</b>. However, the prizes that earn you a large amount of money are also likely to earn the <b>other participants</b> a large amount of money. There is more likely to be <b>competition</b> for the high-earning prizes.
            </p>
            <p>
                The money worth of prizes for you and for the other participants can be different in different rounds of the game, and they were <b>determined beforehand</b>. You and the other participants <b>cannot affect the money worth of prizes</b>.
            </p>
      </div>
    </div><br>

    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-step-2-btn" type="button">Proceed</button>
    </div>
</section>

<section id="step-2">
    <p>
        The <b>prize priorities</b> for you and for the other participants are:
    </p>
    <table id="priorities-table">
        <thead>
            <tr>
                <th>Prize</th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
            </tr>
        </thead>
    </table><br>
    
    <!--third pop up window-->
<button class="button-2" id="GenBtn2" type="button">Click for a reminder on what the priorities mean</button><br>
    <div class="modal" id="GenModal2">
       <div class="modal-content">
        <span class="close2">&times;</span>
            <p>
                All four participants have some <b>priority</b> for getting each of the four prizes.
                These priorities can affect the allocation of prizes.
            </p>
            <p>
                The higher your priority is for getting some prize, the more likely you are to get that prize at the end of the process.
            </p>
            <p>Each column shows the priorities of all participants at some prize, written from highest to lowest.
              For example, the column under <b>Prize A</b> shows its priorities.
              Prize A has Ruth in the 1st priority (the highest),
              Shirley in the 2nd priority, You in the 3rd priority and Theresa in the 4th priority (the lowest).
              So, for example, it is easier for Ruth to get Prize A this round, and harder for Theresa to get Prize A this round.</p>
            <p>The prize priorities can be different in different rounds of the game,
                and they were <b>determined beforehand</b>. <br>
                You and the other participants <b>cannot affect the prize priorities</b>.</p>
      </div>
    </div>

    <div class="btn-container">
        <button class="btn btn-primary btn-container" id="proceed-step-3-btn" type="button">Proceed</button><br>
    </div>
</section>

<section id="step-3">
    <h4>Step 2: Submit Your Ranking</h4>
    <!-- fourth general pop up window-->
<button class="button-2" id="GenBtn3" type="button">Click for a reminder on what this ranking means</button><br>
    <div class="modal" id="GenModal3">
      <div class="modal-content">
        <span class="close3">&times;</span>
            <p>In Step 2, you are asked to <b>rank the four prizes</b> in an order of your choice.</p>
            <p>The computerized participants simultaneously submit their own rankings. They <b>do not know</b> your own ranking.</p>
            <p>Their rankings are aimed at getting them their high-earning prizes. Your own ranking <b>cannot affect the computerized participants’ rankings</b>.</p>
      </div>
    </div>
        {{ include_sibling "ranking_form.html" }}
</section>

<section id="step-4">
    <h4>Step 3: Allocation Process</h4>
    <div id="load">
        <p>
            Allocation process working… <i class="fa-regular fa-hourglass-half fa-spin"></i>
        </p>
    </div>

       <div id="round-results">
        <p>
            <b>You get Prize <span id="prize-won"></span></b>.
            If this were a real round, your total earning would increase by <b><span id="points-won"></span></b>.<br>
            Since this is a training round, the questions you answer correctly on the first attempt count for your Understanding Bonus.
        </p>
    </div>
    <!--    {{if player.round_number == C.NUM_ROUNDS}}-->
    <!--        <p> You completed the training rounds. <br> Click the button below to proceed to real rounds of the game.</p>-->
    <!--    {{else}}-->
    <!--    {{endif}}-->
    <div style="text-align: center">
        {{ next_button }}
    </div>
</section>{{endif}}

{{ endblock }}

{{ block scripts }}{{if player.round_number == 1}}
    <script src="{{ static 'global/training_page_with_questions.js' }}"></script>{{else}}
    <script src="{{ static 'global/round_page.js' }}"></script>{{endif}}
    <script src="{{ static 'util/processDecimalMoney.js'}}"></script>
    <script src="{{ static 'global/generate_priorities_table.js' }}"></script>{{ endblock }}
